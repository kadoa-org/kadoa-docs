---
title: WebSocket
---

<Note>
  Real-time monitoring is currently only available for Enterprise customers. To
  upgrade, [get in touch with our sales
  team](https://www.kadoa.com/contact?type=sales).
</Note>

With our WebSocket API, you can listen to real-time changes from your monitoring workflows.

## Prerequisites

- A Kadoa account
- [Your API key](/api-reference/introduction)
- [Our SDK](/docs/sdks/introduction)

We strongly recommend using our SDK for real-time updates. The SDK handles the connection, authentication, message acknowledgement, redevlivery and reconnection logic.
If you need to implement a native WebSocket integration, please contact us.

## Message Format

All messages are JSON objects with the following fields:

Always present:

- `type`: The type of the message.
- `timestamp`: The timestamp of the message.

Optional depending on the type:

- `data`: The data of the message.
- `id`: The ID of the message used for acknowledgement.

## Message Types

### `workflow_data_change`

This message is sent when a workflow data changes.

Fields:

- `id`: The change ID of the workflow. You can also retrieve the change with screenshot over the [/changes endpoint](/api-reference/monitoring/get-change-by-id) or view the change in the Kadoa dashboard like: https://www.kadoa.com/data-diff/ID
- `workflowId`: The ID of the workflow. Accessible over the [/workflows endpoint](/api-reference/workflows/get-workflow-by-id) or the Kadoa dashboard like: https://www.kadoa.com/workflow/WORKFLOW_ID
- `data`: The data of the workflow. Full snapshot of the data at the time of the change.
- `diff`: The diff of the data. For an explanation of the diff format, please refer to the [data diff documentation](/docs/monitoring/api#diff-field-explanation).
- `url`: The URL of the workflow.
- `createdAt`: The timestamp in ISO format when the change was detected.

Example:

```json
{
  "type": "workflow_data_change",
  "timestamp": 1736367604663,
  "id": "123",
  "data": {
    "id": "123",
    "workflowId": "123",
    "data": [
      {"title": "Test News"},
      {"title": "New News"}
    ]
    "diff": {
      "count": 1,
      "added": true,
      "removed": null,
      "value": "\"title\": \"New News\""
    },
    "url": "https://thisismymonitoredpage.com",
    "createdAt": "2025-01-09T10:00:00Z",
  },
}
```

### `heartbeat`

<Note>
  SDKs will handle the heartbeat logic for you. You don't need to implement it.
</Note>

This message is sent every 15 seconds. It's used to keep the connection alive. If you don't receive a heartbeat after 30 seconds, the connection is considered dead you should reconnect.

Example:

```json
{
  "type": "heartbeat",
  "timestamp": 1736367604663
}
```
